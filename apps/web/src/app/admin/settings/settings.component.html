<div class="settings-page" data-testid="settings-page">
  <!-- Page header -->
  <div class="page-header">
    <div class="page-title">
      <lucide-icon name="settings" [size]="24"></lucide-icon>
      <h1>Settings</h1>
    </div>
  </div>

  <!-- Tab bar -->
  <div class="tab-bar" role="tablist">
    <button
      class="tab"
      role="tab"
      id="tab-llm-models"
      data-testid="tab-llm-models"
      aria-controls="tabpanel-llm-models"
      [class.active]="activeTab() === 'llm-models'"
      [attr.aria-selected]="activeTab() === 'llm-models'"
      (click)="setTab('llm-models')"
    >
      LLM Models
    </button>
    <button
      class="tab"
      role="tab"
      id="tab-providers"
      data-testid="tab-providers"
      aria-controls="tabpanel-providers"
      [class.active]="activeTab() === 'providers'"
      [attr.aria-selected]="activeTab() === 'providers'"
      (click)="setTab('providers')"
    >
      Providers
    </button>
    <button
      class="tab disabled"
      role="tab"
      id="tab-system"
      data-testid="tab-system"
      [attr.aria-selected]="false"
      aria-disabled="true"
      title="Coming soon"
      disabled
    >
      System
      <span class="coming-soon-badge">Coming soon</span>
    </button>
  </div>

  <!-- Tab content -->
  <div class="tab-content">
    @if (activeTab() === 'llm-models') {
      <div
        role="tabpanel"
        id="tabpanel-llm-models"
        aria-labelledby="tab-llm-models"
      >
        <app-llm-models-list
          (addModelClicked)="openAddModelDialog()"
          (editModelClicked)="openEditModelDialog($event)"
        ></app-llm-models-list>
      </div>
    }

    @if (activeTab() === 'providers') {
      <div
        role="tabpanel"
        id="tabpanel-providers"
        aria-labelledby="tab-providers"
      >
        <app-provider-config-list
          (addConfigClicked)="openAddProviderDialog()"
          (editConfigClicked)="openEditProviderDialog($event)"
        ></app-provider-config-list>
      </div>
    }
  </div>

  <!-- LLM Model Form dialog -->
  @if (modelDialogOpen()) {
    <app-llm-model-form-dialog
      [model]="editingModel()"
      (saved)="onModelSaved()"
      (cancelled)="closeModelDialog()"
    ></app-llm-model-form-dialog>
  }

  <!-- Provider Config Form dialog -->
  @if (providerDialogOpen()) {
    <app-provider-config-form-dialog
      [config]="editingProvider()"
      (saved)="onProviderSaved()"
      (cancelled)="closeProviderDialog()"
    ></app-provider-config-form-dialog>
  }
</div>
